<!doctype html>
<html lang="en"><head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin Login</title>
<link rel="stylesheet" href="/public/styles.css" />
</head>
<body>
<h1>Admin Login</h1>
<div>
<label>Email</label>
<input id="email" type="email" />
</div>
<div>
<label>Password</label>
<input id="password" type="password" />
</div>
<div>
<button id="loginBtn">Login</button>
</div>
<div id="msg" style="color:red;margin-top:8px"></div>


<script type="module">
import { supabase } from '/public/supabase-client.js';


document.getElementById('loginBtn').addEventListener('click', async ()=>{
const email = document.getElementById('email').value.trim();
const password = document.getElementById('password').value.trim();
const msg = document.getElementById('msg');
if (!email || !password) { msg.innerText = 'Enter details'; return; }


const { data, error } = await supabase.auth.signInWithPassword({ email, password });
if (error) { msg.innerText = error.message; return; }


// Basic admin check: you can refine by adding a role flag in DB
window.location.href = '/admin-dashboard.html';
});
</script>
</body>
</html>
